# 1. Install dependencies for the frontend (in the root directory)
# This creates/updates the root package-lock.json
npm install

# 2. Install dependencies for the backend (in the server directory)
# This creates/updates the server's package-lock.json
cd server
npm install
cd ..

# 3. Add ALL new and modified files to Git at once
# The dot "." means "everything in this directory and all subdirectories"
git add .

# 4. (Optional but Recommended) Check what you are about to commit
# You should see a big list of green files: .gitignore, the two package-lock.json files,
# and all the files inside your 'client' and 'server' folders.
git status

# 5. Commit the new unified project structure
git commit -m "refactor: Unify project into a single monorepo"


# 6. Push the changes to GitHub
# This will trigger your workflows with the correct repository structure.
git push origin main
